

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>population &mdash; Public Infrastructure Service Access 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=8d563738"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="facilities" href="../facilities/index.html" />
    <link rel="prev" title="constants" href="../constants/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Public Infrastructure Service Access
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../examples/pisa_showcase_osm.html">Pisa Showcase, Example Notebook</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../utils/index.html">utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../constants/index.html">constants</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">population</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-contents">Module Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#population.Population"><code class="docutils literal notranslate"><span class="pre">Population</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#population.FacebookPopulation"><code class="docutils literal notranslate"><span class="pre">FacebookPopulation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#population.WorldpopPopulation"><code class="docutils literal notranslate"><span class="pre">WorldpopPopulation</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../facilities/index.html">facilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../isopolygons/index.html">isopolygons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visualisation/index.html">visualisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../osm_road_network/index.html">osm_road_network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../administrative_area/index.html">administrative_area</a></li>
<li class="toctree-l2"><a class="reference internal" href="../population_served_by_isopolygons/index.html">population_served_by_isopolygons</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Public Infrastructure Service Access</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">API Reference</a></li>
      <li class="breadcrumb-item active">population</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/autoapi/population/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-population">
<span id="population"></span><h1>population<a class="headerlink" href="#module-population" title="Link to this heading"></a></h1>
<p>Population data retrieval and processing module for geographic analysis.</p>
<p>This module provides classes and functions for retrieving, processing, and analyzing population data from various
sources such as Facebook’s Data for Good and WorldPop. It includes an abstract base class that defines the common
interface, and concrete implementations for specific data sources.</p>
<p>The module supports retrieving population data within specified administrative boundaries, aggregating the data at
different resolutions, and preparing it for accessibility analysis with facilities.</p>
<p class="rubric">Examples</p>
<p>Retrieve and process population data from WorldPop:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pisa.administrative_area</span><span class="w"> </span><span class="kn">import</span> <span class="n">AdministrativeArea</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pisa.population</span><span class="w"> </span><span class="kn">import</span> <span class="n">WorldpopPopulation</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get administrative area boundaries</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">admin_area</span> <span class="o">=</span> <span class="n">AdministrativeArea</span><span class="p">(</span><span class="s2">&quot;Timor-Leste&quot;</span><span class="p">,</span> <span class="n">admin_level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">boundaries</span> <span class="o">=</span> <span class="n">admin_area</span><span class="o">.</span><span class="n">get_admin_area_boundaries</span><span class="p">(</span><span class="s2">&quot;Baucau&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_code</span> <span class="o">=</span> <span class="n">admin_area</span><span class="o">.</span><span class="n">get_iso3_country_code</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a population object and retrieve data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">population</span> <span class="o">=</span> <span class="n">WorldpopPopulation</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">admin_area_boundaries</span><span class="o">=</span><span class="n">boundaries</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">iso3_country_code</span><span class="o">=</span><span class="n">country_code</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get processed population data as a GeoDataFrame</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">population_gdf</span> <span class="o">=</span> <span class="n">population</span><span class="o">.</span><span class="n">get_population_gdf</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total population: </span><span class="si">{</span><span class="n">population_gdf</span><span class="p">[</span><span class="s1">&#39;population&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="../administrative_area/index.html#module-administrative_area" title="administrative_area"><code class="xref py py-obj docutils literal notranslate"><span class="pre">administrative_area</span></code></a></dt><dd><p>Module for retrieving administrative area boundaries</p>
</dd>
<dt><a class="reference internal" href="../facilities/index.html#module-facilities" title="facilities"><code class="xref py py-obj docutils literal notranslate"><span class="pre">facilities</span></code></a></dt><dd><p>Module for working with facility location data</p>
</dd>
</dl>
</div>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Link to this heading"></a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#population.Population" title="population.Population"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Population</span></code></a></p></td>
<td><p>Abstract base class for Population data retrieval and processing.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#population.FacebookPopulation" title="population.FacebookPopulation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FacebookPopulation</span></code></a></p></td>
<td><p>Population data from Facebook's High Resolution Population Density Maps.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#population.WorldpopPopulation" title="population.WorldpopPopulation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WorldpopPopulation</span></code></a></p></td>
<td><p>Population data from WorldPop global population data.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="population.Population">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">population.</span></span><span class="sig-name descname"><span class="pre">Population</span></span><a class="headerlink" href="#population.Population" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-obj docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Abstract base class for Population data retrieval and processing.</p>
<p>This class provides the core functionality for retrieving and processing population data for a specified
administrative area. Subclasses must implement the method get_population_data() to support different data sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>admin_area_boundaries</strong> (<em>Polygon</em><em> or </em><em>MultiPolygon</em>) – The geographical boundaries of the administrative area for which to retrieve population data</p></li>
<li><p><strong>iso3_country_code</strong> (<em>str</em>) – The ISO3 country code for the administrative area (e.g., <code class="docutils literal notranslate"><span class="pre">TLS</span></code> for Timor-Leste)</p></li>
<li><p><strong>population_resolution</strong> (<em>int</em><em>, </em><em>optional</em>) – The decimal precision to which latitude and longitude coordinates are rounded for aggregation purposes
(default: <code class="docutils literal notranslate"><span class="pre">5</span></code>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="population.Population.admin_area_boundaries">
<span class="sig-name descname"><span class="pre">admin_area_boundaries</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">shapely.Polygon</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">shapely.MultiPolygon</span></em><a class="headerlink" href="#population.Population.admin_area_boundaries" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="population.Population.iso3_country_code">
<span class="sig-name descname"><span class="pre">iso3_country_code</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#population.Population.iso3_country_code" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="population.Population.population_resolution">
<span class="sig-name descname"><span class="pre">population_resolution</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#population.Population.population_resolution" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="population.Population.get_population_gdf">
<span class="sig-name descname"><span class="pre">get_population_gdf</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">geopandas.GeoDataFrame</span></span></span><a class="headerlink" href="#population.Population.get_population_gdf" title="Link to this definition"></a></dt>
<dd><p>Get aggregated population data for the administrative area as a GeoDataFrame.</p>
<p>This method integrates the population data retrieval workflow by:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Retrieving raw population data using the specific implementation of the get_population_data() method</p></li>
<li><p>Aggregating the population data based on the specified resolution</p></li>
</ol>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>Aggregated population data with columns:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">longitude</span></code>: Rounded longitude coordinate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">latitude</span></code>: Rounded latitude coordinate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">population</span></code>: Total population at the coordinate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geometry</span></code>: Point geometry representing the coordinate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ID</span></code>: Unique identifier for each point</p></li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>geopandas.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="population.FacebookPopulation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">population.</span></span><span class="sig-name descname"><span class="pre">FacebookPopulation</span></span><a class="headerlink" href="#population.FacebookPopulation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#population.Population" title="population.Population"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Population</span></code></a></p>
<p>Population data from Facebook’s High Resolution Population Density Maps.</p>
<p>This class retrieves and processes population data from Facebook’s Data for Good program, which provides
high-resolution population density maps. The data is accessed via the Humanitarian Data Exchange (HDX) platform.</p>
<p>The class follows the same initialization pattern as its parent class Population.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#population.Population" title="population.Population"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Population</span></code></a></dt><dd><p>Parent abstract class</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">WorldPopulation</span></code></dt><dd><p>Alternative population data source implementation</p>
</dd>
</dl>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="population.FacebookPopulation.download_population_facebook">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">download_population_facebook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iso3_country_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.DataFrame</span></span></span><a class="headerlink" href="#population.FacebookPopulation.download_population_facebook" title="Link to this definition"></a></dt>
<dd><p>Download Facebook population data for a specific country.</p>
<p>This method retrieves population data from Facebook’s High Resolution Population Density Maps via the
Humanitarian Data Exchange (HDX) platform for a country specified by its ISO3 code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>iso3_country_code</strong> (<em>str</em>) – The ISO3 country code for which to download population data (e.g., <code class="docutils literal notranslate"><span class="pre">TLS</span></code> for Timor-Leste)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Raw population data from Facebook for the specified country</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – If there are issues with the HDX configuration or data download</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The method accesses the Facebook population dataset from the year 2020.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="population.FacebookPopulation.process_population_facebook">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">process_population_facebook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">downloaded_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iso3_country_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">admin_area_boundaries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">shapely.Polygon</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">shapely.MultiPolygon</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.DataFrame</span></span></span><a class="headerlink" href="#population.FacebookPopulation.process_population_facebook" title="Link to this definition"></a></dt>
<dd><p>Process Facebook population data for a specific administrative area.</p>
<p>This method transforms raw Facebook population data into a filtered dataset that only includes points within the
specified administrative area boundaries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>downloaded_data</strong> (<em>pandas.DataFrame</em>) – Raw population data downloaded from Facebook/HDX</p></li>
<li><p><strong>iso3_country_code</strong> (<em>str</em>) – ISO3 country code used to identify the population column in the data</p></li>
<li><p><strong>admin_area_boundaries</strong> (<em>Polygon</em><em> or </em><em>MultiPolygon</em>) – The geographical boundaries used to clip the population data</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>Processed population data containing only points within the administrative area, with columns:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">longitude</span></code>: Longitude coordinate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">latitude</span></code>: Latitude coordinate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">population</span></code>: Population count (renamed from country-specific column)</p></li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="population.WorldpopPopulation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">population.</span></span><span class="sig-name descname"><span class="pre">WorldpopPopulation</span></span><a class="headerlink" href="#population.WorldpopPopulation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#population.Population" title="population.Population"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Population</span></code></a></p>
<p>Population data from WorldPop global population data.</p>
<p>This class retrieves and processes population data from the WorldPop project, which provides high-resolution
population density estimates globally. The data is accessed via the WorldPop REST API.</p>
<p>The class follows the same initialization pattern as its parent class Population.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#population.Population" title="population.Population"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Population</span></code></a></dt><dd><p>Parent abstract class</p>
</dd>
<dt><a class="reference internal" href="#population.FacebookPopulation" title="population.FacebookPopulation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FacebookPopulation</span></code></a></dt><dd><p>Alternative population data source implementation</p>
</dd>
</dl>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="population.WorldpopPopulation.download_population_worldpop">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">download_population_worldpop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iso3_country_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#population.WorldpopPopulation.download_population_worldpop" title="Link to this definition"></a></dt>
<dd><p>Download population data from WorldPop for a specific country.</p>
<p>This method retrieves population data from the WorldPop REST API for a country specified by its ISO3 code, using
the most recently available dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>iso3_country_code</strong> (<em>str</em>) – The ISO3 country code for which to download population data (e.g., <code class="docutils literal notranslate"><span class="pre">TLS</span></code> for Timor-Leste)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>File path to the downloaded raster data file</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>requests.exceptions.RequestException</strong> – If there are issues with the WorldPop API request</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="population.WorldpopPopulation.process_population_worldpop">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">process_population_worldpop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">admin_area_boundaries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">shapely.Polygon</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">shapely.MultiPolygon</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.DataFrame</span></span></span><a class="headerlink" href="#population.WorldpopPopulation.process_population_worldpop" title="Link to this definition"></a></dt>
<dd><p>Process WorldPop raster data for a specific administrative area.</p>
<p>This method converts the downloaded WorldPop raster data into a DataFrame of point-based population values,
filtered to include only points within the specified administrative area boundaries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – Path to the downloaded WorldPop raster file</p></li>
<li><p><strong>admin_area_boundaries</strong> (<em>Polygon</em><em> or </em><em>MultiPolygon</em>) – The geographical boundaries used to filter the population data</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>Processed population data containing only points within the administrative area, with columns:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">longitude</span></code>: Longitude coordinate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">latitude</span></code>: Latitude coordinate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">population</span></code>: Population count</p></li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="population.WorldpopPopulation.get_admarea_mask">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_admarea_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vector_polygon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">shapely.Polygon</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">shapely.MultiPolygon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raster_layer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">rasterio.DatasetReader</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="headerlink" href="#population.WorldpopPopulation.get_admarea_mask" title="Link to this definition"></a></dt>
<dd><p>Create a boolean mask identifying raster pixels within a vector polygon.</p>
<p>This method creates a mask that can be used to filter raster data to include only points that fall within a
specified vector polygon.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vector_polygon</strong> (<em>Polygon</em><em> or </em><em>MultiPolygon</em>) – The vector geometry used to create the mask</p></li>
<li><p><strong>raster_layer</strong> (<em>rasterio.DatasetReader</em>) – The open raster dataset to be masked</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>A boolean mask with the same dimensions as the raster, where:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>: pixel is within the polygon</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>: pixel is outside the polygon</p></li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The method uses rasterio’s mask function with the all_touched=True parameter,
which includes all pixels that are touched by the polygon, not just those
whose centers are within it. It then creates a boolean mask by checking
which pixels have values greater than zero.</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../constants/index.html" class="btn btn-neutral float-left" title="constants" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../facilities/index.html" class="btn btn-neutral float-right" title="facilities" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>